See http://rwarbelow.github.io/ruby-and-apis/openweathermap-api for improvements